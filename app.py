import streamlit as st 
import os 
from PyPDF2 import PdfReader 
from langchain.text_splitter import RecursiveCharacterTextSplitter 
from langchain_community.vectorstores import FAISS 
from langchain.chains.question_answering import load_qa_chain 
from langchain.prompts import PromptTemplate 
from dotenv import load_dotenv 
from langchain_community.llms import HuggingFaceEndpoint 
from langchain_community.embeddings import HuggingFaceInferenceAPIEmbeddings 
from langchain_google_genai import GoogleGenerativeAIEmbeddings , ChatGoogleGenerativeAI 


load_dotenv() 

HUGGINGFACEHUB_API_TOKEN = os.environ['HUGGINGFACEHUB_API_TOKEN'] 

st.title('ðŸ’¬ Chat With Your PDF using LLMs ðŸ“‘ ') 
st.title('') # for space 


# Extracting text from uploaded PDf : 
def get_pdf_text(uploaded_pdf) : 
    text = '' 
    pdf_reader = PdfReader(uploaded_pdf) 
    for page in pdf_reader.pages : 
        text += page.extract_text() 
    
    return text 


# Converting chunks from that PDF text : 
def get_text_chunk(text) : 
    text_splitter = RecursiveCharacterTextSplitter(chunk_size = 1000 , chunk_overlap = 200)
    chunks = text_splitter.split_text(text) 
    return chunks 



# Getting Embedding and Storing it's embedding in db : 
def get_embeddings_and_store_vector(chunks) : 
        embeddings  = HuggingFaceInferenceAPIEmbeddings (model_name ='sentence-transformers/all-MiniLM-l6-v2',
                                                         api_key = HUGGINGFACEHUB_API_TOKEN ) 

        vector_store = FAISS.from_texts( chunks , embeddings )
        vector_store.save_local('saved_embedding') 

# Getting Embedding for Geminit(googlegenerativeai-embeddings) : 

def get_embeddings_and_store_vector_geminit(chunks) : 
    embeddings = GoogleGenerativeAIEmbeddings(model ='models/embeddings-001' )
    vector_store= FAISS.from_texts(chunks ,embeddings) 
    vector_store.save_local('gemeni-embedding')



def get_chain(select_model = 0 ) :
    
    prompt_template = ''' Give Answers of the Question Using Given Context In Detailed Manner As much as Possible.If answer is not present in the 
    in the Context then simply say : "Answer is not present in the givin context" .don't give wrong answers. and other stuff which is not related to context \n\n
    Context : \n {context} \n 
    Question : \n {question} \n 

    Answer : 
    '''
    prompt = PromptTemplate(template = prompt_template , input_variables = ['context','question']  ) 

    gemini = ChatGoogleGenerativeAI(model="gemini-pro",
                             temperature=0.4)

    mistralai_model_v2 = HuggingFaceEndpoint(repo_id = 'mistralai/Mistral-7B-Instruct-v0.2' ,
                               temperature = 0.4 , max_length = 128 , 
                                token = HUGGINGFACEHUB_API_TOKEN)
    
    mistralai_model_v1 = HuggingFaceEndpoint ( repo_id= 'mistralai/Mixtral-8x7B-Instruct-v0.1' , 
                                          temperature = 0.4 , max_new_tokens = 128 , 
                                          token = HUGGINGFACEHUB_API_TOKEN ) 

    if select_model == 0 : 
        model = gemini 
    elif select_model == 1  : 
        model = mistralai_model_v2
    else : 
        model = mistralai_model_v1 

    q_a_chain = load_qa_chain(llm= model , prompt = prompt , chain_type = 'stuff') 
    return q_a_chain 



def user_question(user_question,select_model)  : 

    embedding = HuggingFaceInferenceAPIEmbeddings(model_name ='sentence-transformers/all-MiniLM-l6-v2',
                                                         api_key = HUGGINGFACEHUB_API_TOKEN  ) 

    db = FAISS.load_local('saved_embedding' , embedding , allow_dangerous_deserialization = True) 
    docs = db.similarity_search(user_question) 

    chain = get_chain(select_model=select_model)   

    response = chain(  {'input_documents' : docs , 'question' : user_question } , return_only_outputs= True ) 
    
    if select_model == 1 : 
        st.write(':red[Reply : ]' ,response['output_text'].split('Question')[0])
    else : 
        st.write(':red[Reply : ]' ,response['output_text'].split('Explanation')[0])




def main () : 
    
    col1, left, col2, right, col3 = st.columns([1,0.1,1,0.1,1])

    with col1:
        st.image('data:image/png;base64,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',width=200)
        page1 = st.button("Mistralai-1") 

    with col2:
        st.image('data:image/png;base64,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',width=100)
        page2 = st.button("Gemini-Pro")
        
    with col3:
        st.image('data:image/jpeg;base64,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',width=160)
        page3 = st.button("Mistralai-2")

    question = st.text_input('Ask a Question from the PDF Files') 
        
    if page1:
        if question : 
            user_question(question ,select_model= 2)

    if page2:
        if question : 
            user_question(question,select_model= 0) 

    if page3:
        if question : 
            user_question(question , select_model= 1 ) 



    with st.sidebar : 
        st.image('data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBw0PDQ0NDQ0NDQ0ODg4ODg0NDRANDw0PFREWIhUYFRUaHSggGCYlGxUVIjEhJSorLi4uFx8zODMsNygtLi0BCgoKDg0OGg8PFSsdFSAtKy4tKy0tKy4tKysrKy0tKysrKysrMC0rLSsrKysrKysrLSsrKysrKystLS0rKy0tK//AABEIAKUBMgMBEQACEQEDEQH/xAAbAAEBAAMBAQEAAAAAAAAAAAAAAQIFBgQDB//EAD8QAAICAQIDAwgGCgEFAQAAAAABAgMRBBIFITEGE0EUIjJRYXGRoTNSU4GSsQcVI0JicnOy0fDBFyRDk6IW/8QAGgEBAQADAQEAAAAAAAAAAAAAAQACBAUDBv/EADERAQACAgAEBAQFBAMBAAAAAAABAgMRBBIhMRMiQVEFFDJxUmGBkaGxwdHhFSPwov/aAAwDAQACEQMRAD8A0h986ABUEEUAgJQISAIBAISAICCIBAICCIBAISAICCIBUEAQjoAgIAhIAgEAhIAhFidlxlIoCAKkQEgFQIRAQBAQRAICAIRAICCIBAWgiAQEoFCIBUEEQEAQCEgCAQiAgCh2nGQCpEBIBUiAQEAQkAQCAgiAQCAgiAgCEQCBtBEA6AKggiAgCAQkAQCEQEAQEEUO044CQCEVBAEAhIAgEBBEAgIIqBQEAVIoBAQRAWgCoEIgIAhEBAEAhIAgEBBEAhJDtOOgFQQBAISAIBCQBAICCKgUBAFSICAIRQEAVIgIAgEIgIAgIIgEBBEAgEBKRQEh2nHAISAIBAISAIBCQBUEgEIgFQQBQioJAKkQEAUIqBAQBCICAICCIBAQRUCAkAqRYnacYAgEJAEAgIIgEAgJnVHdKMfrSivizG06iZU9I23sez8H/wCSfwRofOW9oavzE+zL/wDPQ+0n8Il85b2g/MT7PlfwJRWYzk/fgvnLey+Yn2aSyDjNwaefzPXHxMWnU9Je2PPFp1PSUNh7gEIgIAhF7eF8OlqJNKSjFdZM0ON46vDajvaf2Fpisbl9eLcIlp0pb1OL5ZXLD9p5cH8RjPfknW/yVLRaOjWnRZhIAgEJAEAgIIqBASEVAgIIsTsuOEgCAQkAQCAQkAQE+ul+kr/qQ/uRhf6Z+0i30y7NKPLPXw6nGc5nFwXTl8SQ5RfiRc/xmlRnCyPVSi+j6poky47wfZm6leZ1nBfue1ez8jdwZ9+W3duYc2/Lbu0ZtNoAhFnTTObxCLk/Z4e8wteK9Zlja1axu06epcKv+ovxx/yeXzFPd5fNY/djRfKicq5eZPk8PxXrT8Tncdw2Pi9TvUwY4uvpG4XVa2Vu2tPdKTW2McttnlwfA04W/ic25+yni4/DqGX6pv8Aqr8cf8nU+Yp7r5rF7vNfprK/Ti456Pqn95nW9bdpe1Mlb/TO3yMnoAQCAgioEBIRUCAgCEQExO044BCQBAISAIBASkQC+ml+kr/qQ/uRhf6Z+wt9Mu09XX7pbTjuYy+9/wDsREb9r6/aIE1vFoZjzz+NPxJPbRxSjGJW1r3ySItDxjh9abu004Tr6zhCSk6/by8PyN3Dn5vLbu3cObm8tu7UGy2gC7LgWhjGqOUm8Jv2yaOdktzWmXHz3m95lttvsXwMHk82s4fTckra4zS5rK6e5+ALt2YaLhWnpy6qowb5NpZbXvfMjMzPd7NvsXwJPDxPRwnW00sPk8fJlFprO4Z0vNLc0OGlHDafVNp+9HQ27sTuNoRAKgQEhFQICCIBAQBCLE7TjAEAhIAgEBBEYF22i7LaLTaWGr4tbOHeY2UQbTWVlJ7Vuk8c3jkjnX4rJe/Jgjt6tC3E5L35MMdvVqeP6ThkXp58PvnYrZefTNN93FPxbw1n1PPr9/rhvmnmjJGter2w2zTuMka16t9204BGOr0Veg0aWVZOyOnqwsKcMOWOS8eprcNnmcd5yW/f7S1+Fz7paclvtv8AUtpnGWyUJRmusXXlnhEsImJjcPT+rNTt3dxZjr9Es492cmPPX3Y+JXtt9eD8Nd88SU41pPdJQisPHJZeQvbX3GS/LHTu1faPQzpc04TUN041ylCPnxT5Pl7MfEa22ypeLR+bmKeG6iyuy6umydVe7fZGvMYYWXn7nkpmI6MptETqZ6vlXwrUSrlqK6bHVDO62MMRjhLPP70XNETr1XNETrfVFw3UuiWo7mzuIvErtvmJ5S6+9pG/hzRaOWZ8zo4c9barM+Zvu0MVZpOH108Kt01knCCtVcF5RJ18oxa5zz6WZc/izXjNGK02vfmj2hjwlJnLfmyxMRue/br3/L26Oqs4PZTpK511223uEXOp4xGW1cvZhmvS8WvqZ1DjXza5p1vX8rotLKzhUrGl5TPc4WJbZc7FtxjpyMrWrGbUfS162zWr1nV5/aPZ4aI6iNaepqnXLOFKUdqny5P2P2exmd+TfkncPfh8tr088at6r38VKtPnvtqrxnHpzS/5+RjETP8AL0yZIpXmbjV8H0cJpTv1cJS5pq2Tiln1Y2/I865ba7Q8IjJaeaJn+Hl4pw9VWU1yk5wusripclLDnFPp7wi+4l7VybiZ9Ya/ivZ/gdWoWmuuvovtirItzltxKUkvOcXFc0+p6Uz5Z7RvTdxcRxc4+etYmsdP21+vq5btP2enoL4VuXeVW5dVmNraTWU14NZXxXuNrFmjJXfq6HC8VGekzEamO8Oo4v2b4Jo3WtTbqq3YpOGJSnnbjPoweOqNambNf6YaGHi+Lzb5Iidf+93G8eho4340M52Ud3F7rFJS7zL3Lml4YNnHNtefu6nDzlmn/bGrb/hrjN7qBCICAIRAICCLE7LjBFQICQCpEBAFlU0pRcvRUouX8uefyCd66KYnXR3v6VYSfkVq504tjleipS2tfFJ/A5nw6Y80evRzvh0x5o9ejhKU91bw8Oaw8cnhrOGdG09JdKe0v0/tvxrU6bVcPqos7uFtjdvmRk5pWQW1trksSfQ4/C4aXpebR1iP7S4/CYaXpe1o3Mdv2l7O0VO7VaZQ5WyWIPLXNSyufsPHHPlnfZ5YZjlnfZ7tLY46ju7NVKy5xbdMYYhHlnr4GE9ukdGFoia7iuoefhtm3XamqLxHzrHDw3Zhz+Zlb6YlleP+uJ9XO9o7nbZZCyblGuy1Qi+W1bvZ7l8D0pERG3virEViYensRTBeV6X926G5x5+pxl8pL4GGT0l58RGtWbXg2jhXpKdC0v29GolJettr/iXyMLT1287zu03j0057tk1p+EaTSrk7rVKS/hjmT/8ApwNvhY3lm3s3uBrzZ7W9o/1/k7bcRel4bwe9cnCVDi/qy8klh/E1bxu0/c8Hqc2Ws9piY/8AqG37TcSvr0GksrtlXZdGCnNKLbbqz0ax1HFWJnq50ViZmHx4Nrr6eBSujtd1SsjDxXKzEX8DK8ROXXoJ3NurGerut4BO2+zvLujsSSfLUJJ8ljKRhk8tvK9+FxxOetbdv9OU4XqFO6mpvlHU6eUefPHexa+awZ47eWY9m78QwxWeaO1v6x3/AM/q/QePavQ12w8qsnGezMYxhOSlHc+rUX458TCnNro5uO9ojVXOcT49HVazRqpONUNRRGO7lKTd0MvHh0RnFOWs7ZVrqstT+lDMuJVVRi5SeiqxFLLm5XWpJLx6HrwnSbT9nY+FTrDO+0TP9Ibf9JL26fh1c3m1Sbfi8RhFS+bQcN3tPo1/hkbvkmO2m17a28Mi9P8ArGu2xtW913TmsLzd2cSX8J54fE68jX4KOInm8CYjtvt/d+Z8Wlp3qLXpIyhpm491GedyW1Zzlt+lu8Tepzcsc3d38MZOSPE+r1eQyewCAIRAICAISAKHacYAgHSEVBAEIgIAup4N20tpoWl1Gnr1lEUoxVj2yjFdE8pqSXhlGll4OLW56Tyy08vBRa3PS3LLzdoe071aprjpqdPTRPfCEMSln+bC2r2JGWHhvD3M23Ms8HC+HuZtuZZ8d7SPX6nR2OhU9xPGFb3u/dZB9dqx6PzDFg8Klo3vf+JWHhvBpaN73/iXW63jE7Lqbo17JVZwlYpKXPxykc6tNRpz64tVmJnu9Uu0MtynHTVqX7zdkXKS9WccvmY+H+bDwOmps8VfE5x1MtSoYcm91bsi44a5rP3ZMuXy6ek4omnKcU16v2tUKpptylGyLc8468l6irXXqseOa952+HD9VKi2Nqi5YTTi5xSaa6Z/3oNo3GmV6c0ae6XF5yvhf3Sj3cdqgrMprnnnjl19XgY8nTTCMOqzXfdy36QOIPUWaZuCgoQtSipburjl9F6l8Db4SvLE/o6Hw/HyRb9Gp7Wccnr9DpdGqI1eTSrfeO1z7zbU49Nqx1z1ZhfhJ3MxPd64eE8PJa/Nvf5fntueDduF5JDTanR16nuEq4zlNLcorEW4uL5pcsnlOGd7idOFaPNOpfCvtP3fDp6HucqW79r3jcvOnnCht5+rqM4/NzbUV3bo+FfaxPh1vDfJbJYbU7VNxcW5qfo493iYWrWbbl71xZK254nUtHoOJVUyp1SrtlFTqnFvOJrfFpc28ZaRlqkb09sk5skctp3Dfcf7ReXWwtdPcOEO7cHNyfVvPNL1jjrqOktTlmnSWsXEO5lVfjd3V1Vu3O3dtmnjPhnBlNdxpbdN/wBRXKXe/qzTq3aowteo3zUefLPdp+L5Z8WY14WZ7z0dLH8M5qRvJOp661/tzPFuLX6u/v8AUSUpclGMVthCKfSK8DapSKRqHUw8PTFTko2HavtJ+sHQ+47nuVYvpe83btv8Kx6PzPPFi8PfXbx4Pg/l+bzb3poD1bqgQiAgCEQEAQiAkO046AVBAEJAEAhEBAEI6fXSfS1f1If3Iwv9Mi/0z9ndxxyzHPt25wcpymahF/ur744BMu7j9VfBEju4/VXwRI7uP1V8ERVRS6LHu5AnMdrfTp/ln+cTb4btLe4PtLQmw3Xk0MsO2Hipt/cavq+WzxNbzH5y9cZyTUk8Si1KL5cmunUpiJjTyreazuHoo19sJXyWxu+anPNaeHsUfN9XKKPPwoe3zNvaHx76fk9WlzHu6u62vYt77uSccvx5pZLwoPzNvaFuunOcpzeZSxnCSXLokl0MorERqHlfJNp3LxcRn+zx4yaSGVXrL0xWEl6kker67HXVYj8lJmEQCAgiAQEAQiAgCEkOy44BCQBAISAIBCQBAL66T6Wr+pD+5GN/pkX+mfs7yCTxn82jlOSy2R9v4n/kkzTRE3AjcSHIk5jta/Pp/ln+cTa4ftLf4PtLQGw3Xn1Gmcpb4S2T9fgzytTfWGlxPBRlnmjpb+r5/wDcr6kvbyMOWznT8Nyx6fybtT9WH+/eXLYf8bl/D/MG/U/Vh/v3hy2X/G5fw/zBnUvwgvgXLYx8Ny+38sqdLLcp2y3SXReCGK+7f4b4fGOea/WfZ6zN1ACAgiAQEAQiAgCEgDoAodpxgCAQkAQCEgCAQkAVTw01ya5p+oDp9vLLvtrPxyMOSvsx8On4YXy2/wC2t/HIOSvsvDp+GDy277a38ci5K+x8On4YPLb/ALa38cg5K+x8On4YPLb/ALa38cg5K+y8On4YPLb/ALa38ci5K+x8Kn4YfO26c8b5yljpuk3goiI7Mq1iO0aYEyCIBAQBCQBAIRAQBAIRAQBCQBAIBC2kO044CAIRAQBAISAIBCICAICCIBUChIAqBAQRAQBAIRAQBCIBAQRAQB0AQCEgCBtIdpxwiAgCAQkAQCEgCAQkAQCoJCIBASgQiAgCEQCAgCEQEAQiAgDoAhIAgEBBFQLE7TjAEBBEAgIIgEAhIAgEBBEAgJQIRAQBCICAIBCQBAISAIBCICAIBCQBUCAgixOy4wRAICCIBAISUCgLQRUCgEBKRAICAIRAQBCQBAIBCQBAIBCQGyAgiAVAgJCKgQNpidpxwEEQCAgioFAQRUCgIIqBAICCIBAQBCQBAIBCQBAISAIBAQRAICUigFQICCICYnaccAhIAgJQKEQCoIIgEBBEAgIAhEAgIAhIAgEJAEAhIAgEAhJQKAVBBEAgIIgJ/9k=') 

        st.warning('* First Upload file and then click on submit and process to save context\n * Then ask question and you will abel to get answer from your document ') 
        pdf = st.file_uploader('Upload your PDF Files and Click on the Submit & Process Button' , type = 'pdf') 

        if st.button('Submit & Process') : 
            with st.spinner("Processing...") : 
                pdf_text = get_pdf_text(pdf) 
                pdf_chunks = get_text_chunk(pdf_text) 
                get_embeddings_and_store_vector(pdf_chunks) 
                st.success("Document Sucessfully Uploaded") 


if __name__ == "__main__" : 
    main () 